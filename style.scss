* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

$z-value : calc(-30 * var(--length));
$shadow: hsl(0deg, 0%, 0%, .75);
$enlighted: hsl(0deg, 0%, 100%, 0.15);
$spinner-color: whitesmoke;

:root {
    --length: min(1vw, 0.6vh);
}

body {
    height: 100vh;
    width: 100vw;
    background: #222;
    display: grid;
    place-content: center;
}

.container {
    width: calc(90 * var(--length));
    aspect-ratio: 2/3;
}

.slot-machine {
    height: 100%;
    width: 100%;
    background: hsl(0, 100%, 50%, .25);
    display: grid;
    grid-template-rows: 1fr 2fr 1.5fr;
    grid-template-areas:
        "top"
        "middle"
        "bottom";
}

.slot-machine-top {
    grid-area: "top";
}

.slot-machine-middle {
    grid-area: "middle";

    .spinners-container {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: space-evenly;
        height: 100%;
        overflow: hidden;

        .overlay{
            position: absolute;
            height: 100%;
            width: 30%;
            border: 2px solid black;            
            background: linear-gradient($shadow, $enlighted 33%, $enlighted 66%, $shadow);
        }

        .spinner-container {
            width: 30%;
            height: 100%;
            display: grid;
            place-content: center;
            background: $spinner-color;

            .spinner {
                position: relative;
                width: 100%;
                height: inherit;
                transform-style: preserve-3d;
                transform-origin: 50% 50% $z-value;
                pointer-events: none;

                .symbol {
                    position: absolute;
                    backface-visibility: hidden;
                    height: 100%;
                    width: 100%;
                    font-size: calc(10 * var(--length));
                    display: grid;
                    place-content: center;
                    transform-origin: 50% 50% $z-value;
                }

                @for $i from 1 through 12 {
                    > div:nth-child(#{$i}) {
                        transform: rotateX(30deg * $i);
                    }
                }
            }           

            .spinner-1 {
                transform: rotateX(var(--rot-spin));
                transition: transform var(--rot-speed) linear;
            }

            .spinner-2 {
                transform: rotateX(var(--rot-spin));
                transition: transform var(--rot-speed) linear;
            }

            .spinner-3 {
                transform: rotateX(var(--rot-spin));
                transition: transform var(--rot-speed) linear;
            }
        }
    }
}

.slot-machine-bottom {
    grid-area: "bottom";
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-around;
    transform-style: preserve-3d;
    perspective: calc(75 * var(--length));        
    
    // &::after{
    //     content:'';
    //     width: 100%;
    //     height: 50%;
    //     background: blue;
    //     transform: translate3d(0, calc(-.5 * var(--length)), calc(12.5 * var(--length)));
    // }
    
    .button-container{
        position: relative;
        width: 100%;
        height: 60%;
        display: flex;
        align-items: center;
        justify-content: space-around;
        transform-origin: top;
        transform: translateY(calc(2.5 * var(--length))) rotateX(30deg);
        background: green;
        transform-style: preserve-3d;   
        
        button{
            --btn-bottom: 12.5%;

            position: relative;
            background-color: #222;
            cursor: pointer;
            width: 40%;
            height: 75%;
            font-size: calc(10 * var(--length));
            border: none;
            top: 0;
            border-radius: calc(7.5 * var(--length));

            &:nth-child(1)::before{
                content:'SPIN';
                bottom: var(--btn-bottom);
                left: calc(-.5 * var(--length));
            }

            &:nth-child(2)::before{
                content:'STOP';
                bottom: var(--btn-bottom);
                left: calc(.5 * var(--length));
            }
            
            &::before{
                position: absolute;
                height: 100%;
                width: 100%;
                border-radius: inherit;
                left: 0;
                background: whitesmoke;
                display: grid;
                place-content: center;
            }
        }

        &::after{
            content:'';
            position: absolute;
            width: 100%;
            height: 50%;
            background: blue;
            transform-origin: top;
            transform: translateY(100%) rotateX(-30deg);
            bottom: 0;
        }

    }

    .slot-machine-footer{
        width: 100%;
        height: 50%;
        background-color: red;
        transform: translate3d(0, calc(-.5 * var(--length)), calc(12.5 * var(--length)));
    }
}
